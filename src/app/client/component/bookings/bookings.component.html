<div class="container">
  <div class="booking">
    <h1>Bookings</h1>
  </div>
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="propertyName">
      <th mat-header-cell *matHeaderCellDef>Property Name</th>
      <td mat-cell *matCellDef="let element">{{ element.propertyName }}</td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="propertyAddress">
      <th mat-header-cell *matHeaderCellDef>Property Address</th>
      <td mat-cell *matCellDef="let element">{{ element.propertyAddress }}</td>
    </ng-container>

    <ng-container matColumnDef="image">
      <th mat-header-cell *matHeaderCellDef>Image</th>
      <td mat-cell *matCellDef="let element">
        <img src="{{ element.image }}" style="height: 60px; width: 80px" />
      </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="checkin">
      <th mat-header-cell *matHeaderCellDef>Checkin</th>
      <td mat-cell *matCellDef="let element">
        {{ element.checkIn | date : "dd/MM/yyyy" }}
      </td>
    </ng-container>
    <ng-container matColumnDef="checkOut">
      <th mat-header-cell *matHeaderCellDef>Checkout</th>
      <td mat-cell *matCellDef="let element">
        {{ element.checkOut | date : "dd/MM/yyyy" }}
      </td>
    </ng-container>
    <ng-container matColumnDef="guest">
      <th mat-header-cell *matHeaderCellDef>Guest</th>
      <td mat-cell *matCellDef="let element">
        Adult:{{ element.adult }},Children:{{ element.children }}
      </td>
    </ng-container>
    <ng-container matColumnDef="orderStatus">
      <th mat-header-cell *matHeaderCellDef>OrderStatus</th>
      <td mat-cell *matCellDef="let element" [ngStyle]="{'color':(element.bookingStatus==='success')?'green':'red'}">
        Booking {{ element.bookingStatus | titlecase}}</td>
    </ng-container>
    <ng-container matColumnDef="totalAmount">
      <th mat-header-cell *matHeaderCellDef>TotalAmount</th>
      <td mat-cell *matCellDef="let element">{{ element.totalPrice }}</td>
    </ng-container>
    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let element" >
        <button mat-raised-button color="warn" (click)="cancel(element._id)" *ngIf="element.bookingStatus!=='cancelled'&& showButton">
          Cancel
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>
